= [[ExternalAppendOnlyMap]] ExternalAppendOnlyMap

*ExternalAppendOnlyMap* is a xref:shuffle:Spillable.adoc[Spillable] of SizeTrackers.

`ExternalAppendOnlyMap[K, V, C]` is a parameterized type of `K` keys, `V` values, and `C` combiner (partial) values.

== [[creating-instance]] Creating Instance

ExternalAppendOnlyMap takes the following to be created:

* [[createCombiner]] createCombiner function (`V => C`)
* [[mergeValue]] mergeValue function (`(C, V) => C`)
* [[mergeCombiners]] mergeCombiners function (`(C, C) => C`)
* [[serializer]] Optional xref:ROOT:spark-Serializer.adoc[Serializer] (default: xref:ROOT:spark-SparkEnv.adoc#serializer[system Serializer])
* [[blockManager]] Optional xref:storage:BlockManager.adoc[BlockManager] (default: xref:ROOT:spark-SparkEnv.adoc#blockManager[system BlockManager])
* [[context]] Optional xref:scheduler:spark-TaskContext.adoc[TaskContext] (default: xref:scheduler:spark-TaskContext.adoc#get[current TaskContext])
* [[serializerManager]] Optional xref:ROOT:spark-SerializerManager.adoc[SerializerManager] (default: xref:ROOT:spark-SparkEnv.adoc#serializerManager[system SerializerManager])

ExternalAppendOnlyMap is created when:

* Aggregator is requested to xref:rdd:Aggregator.adoc#combineValuesByKey[combineValuesByKey] and xref:rdd:Aggregator.adoc#combineCombinersByKey[combineCombinersByKey]

* CoGroupedRDD is requested to xref:rdd:spark-rdd-CoGroupedRDD.adoc#compute[compute]
